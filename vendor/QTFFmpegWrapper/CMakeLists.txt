PROJECT ( QT_FFMPEG_WRAPPER)

CMAKE_MINIMUM_REQUIRED (VERSION 3.0)

SET( CMAKE_MODULE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/cmake_modules/")

FIND_PACKAGE (Qt5Widgets REQUIRED)
FIND_PACKAGE (FFmpeg REQUIRED)
ADD_DEFINITIONS (${QT_DEFINITIONS})
ADD_DEFINITIONS (${FFMPEG_DEFINITIONS})

INCLUDE_DIRECTORIES (${QT_INCLUDE_DIR})
INCLUDE_DIRECTORIES (${FFMPEG_INCLUDE_DIRS})
INCLUDE_DIRECTORIES (${CMAKE_CURRENT_BINARY_DIR})
INCLUDE_DIRECTORIES (${CMAKE_CURRENT_SOURCE_DIR})
INCLUDE_DIRECTORIES (${CMAKE_CURRENT_SOURCE_DIR}/src)

SET ( QTFFMPEG_HDR
	src/QVideoDecoder.h
	src/QVideoEncoder.h
)
SET ( QTFFMPEG_SRC
	src/QVideoDecoder.cpp
	src/QVideoEncoder.cpp
)

ADD_LIBRARY ( qtffmpeg STATIC ${QTFFMPEG_HDR} ${QTFFMPEG_SRC} )

TARGET_LINK_LIBRARIES ( qtffmpeg
	${Qt5Widgets_LIBRARIES}
	${Qt5Core_LIBRARIES}
	${QT_LIBRARIES}
	${FFMPEG_LIBRARIES}
)

